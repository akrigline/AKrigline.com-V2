function imageScroll(){function e(e){var a=e.pageX-$imagePan.offset().left,t=e.pageY-$imagePan.offset().top,n=a/containerWidth,i=t/containerHeight,o=-((totalContentW-containerWidth-containerWidth)*n),c=-((totalContentH-containerHeight-containerHeight)*i),r=a-o,s=o-a,d=t-c,l=c-t,$=$imagePan_panning.css("marginLeft").replace("px",""),m=$imagePan_panning.css("marginTop").replace("px",""),g=1500,p="easeOutCubic";a>o||t>c?$imagePan_container.stop().animate({left:-r-$,top:-d-m},g,p):o>a||c>t?$imagePan_container.stop().animate({left:s-$,top:l-m},g,p):$imagePan_container.stop()}$imagePan_panning=$("#intro .panning"),$imagePan=$("#intro"),$imagePan_container=$("#intro .imagePanner"),$pseudoImage=$(".welcome"),containerWidth=$imagePan.width(),containerHeight=$imagePan.height(),totalContentW=$imagePan_panning.width(),totalContentH=$imagePan_panning.height(),$imagePan_container.css("width",totalContentW).css("height",totalContentH).css("left",-((totalContentW-containerWidth)/2.9)),$pseudoImage.bind("mousemove",function(a){e(a)})}function sticky_relocate(){var e=$(window).scrollTop(),a=$(".nav-sticker").offset().top;e>a?$(".top-nav").addClass("stick"):$(".top-nav").removeClass("stick")}function iframeWidth(){$device=$(".device"),$iframe=$(".viewport iframe");var e=$device.width(),a=$iframe.width(),t=e/a;$iframe.css({"// zoom":t,"-moz-transform":"scale("+t+")","-o-transform":"scale("+t+")","-webkit-transform":"scale("+t+")",transform:"scale("+t+")"})}document.getElementById("home")&&($(window).load(imageScroll),$(window).resize(function(){$pseudoImage.unbind("mousemove")},imageScroll),$(document).ready(function(){$(".top-nav").localScroll({duration:500,hash:!0,offset:-65}),$(".scrollThrough h3").Morphext({animation:"flipInX",separator:",",speed:7500}),$(function(){$(window).scroll(sticky_relocate),sticky_relocate()})}),$(".top-nav").on("sticky-start",function(){$("#scene").parallax("disable")}),$(".top-nav").on("sticky-end",function(){$("#scene").parallax("enable")})),$(".viewport iframe").load(function(){$(".viewport").removeClass("loading"),$device.data("current","desktop")}),$(document).ready(iframeWidth),$("[data-device]").click(function(){var e=$(this).data("device"),a=$(".btn-device.active"),t=$device.data("current");t==e||(a.removeClass("active"),$(this).addClass("active"),$device.removeClass("device-"+t),$device.data("current",e),$device.addClass("device-"+e),iframeWidth())});